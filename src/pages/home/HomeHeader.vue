<template>
    <div class="head-wrap">
        <div class="header">
            <router-link to="/citypick" tag="div" class="top-city">
                <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="18" height="18"><path d="M511.999 959.753S176.185 585.513 176.185 400.06c0-185.448 150.362-335.815 335.814-335.815 185.456 0 335.816 150.368 335.816 335.815C847.815 585.512 512 959.753 512 959.753z m0-686.495c-70.027 0-126.805 56.779-126.805 126.805 0 70.03 56.778 126.807 126.805 126.807 70.029 0 126.806-56.777 126.806-126.807 0-70.026-56.777-126.805-126.806-126.805z" fill="" p-id="2562"></path></svg>
                <span>{{visitedcity}}</span>
            </router-link>
            <router-link to="/search" tag="div" class="top-search">
                <svg t="1541463774532" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" p-id="2513" width="15" height="15"><path d="M750.3 198.7C598 46.4 351.1 46.4 198.7 198.7s-152.3 399.2 0 551.5C345.1 896.6 578.8 902.3 732 767.3l172.1 172.1 35.4-35.4-172.1-171.9c135-153.2 129.3-387-17.1-533.4z m39.3 403.8c-17.1 42.1-42.2 80-74.7 112.4-32.5 32.5-70.3 57.6-112.4 74.7-40.7 16.5-83.8 24.9-128 24.9s-87.2-8.4-128-24.9c-42.1-17.1-80-42.2-112.4-74.7s-57.6-70.3-74.7-112.4c-16.5-40.7-24.9-83.8-24.9-128s8.4-87.2 24.9-128c17.1-42.1 42.2-80 74.7-112.4s70.3-57.6 112.4-74.7c40.7-16.5 83.8-24.9 128-24.9s87.2 8.4 128 24.9c42.1 17.1 80 42.2 112.4 74.7 32.5 32.5 57.6 70.3 74.7 112.4 16.5 40.7 24.9 83.8 24.9 128s-8.4 87.3-24.9 128z" fill="" p-id="2514"></path></svg>
                <input id="searchInp" type="text" placeholder="搜索明星、演出比赛、场馆">
            </router-link>
            <router-link to="/profile" tag="div" class="profile">
                <svg t="1541464644985" viewBox="0 0 1024 1024"  xmlns="http://www.w3.org/2000/svg" p-id="3265" width="20" height="20"><path d="M232.406 487.311c-2.678 0-4.791 0.387-6.448 1.051 2.252-0.677 4.655-1.051 7.124-1.051h-0.677zM972 781.983c0.069-1.366 0.25-2.707 0.54-4.004-0.317 0.595-0.483 1.863-0.54 4.004zM1021.338 237.615c0.015-0.055 0.015-0.124 0.015-0.18v-0.636c0 0.275 0 0.551-0.015 0.815zM971.971 237.531c0 0.055 0 0.11 0.015 0.166-0.015-0.29-0.015-0.595-0.015-0.897v0.732zM1001.747 977.937c-9.689-70.651-33.377-134.229-68.234-190.125 18.593 32.571 13.829 23.582 8.775 14.772-0.021-0.051-0.058-0.092-0.102-0.123-21.852-37.050-48.723-71.487-80.042-102.224l-0.015-0.015c-6.809-6.684-13.822-13.2-21.044-19.526-51.492-45.126-110.937-78.585-174.332-98.938 11.474-6.352 22.577-13.477 33.238-21.361 12.138-8.948 23.695-18.891 34.563-29.758 57.152-57.152 88.637-133.154 88.637-213.988 0-80.834-31.483-156.836-88.637-213.988-56.117-56.117-130.406-87.476-209.584-88.608-1.258-0.015-2.512-0.027-3.77-0.027-1.258 0-2.512 0.015-3.77 0.027-79.178 1.132-153.466 32.492-209.584 88.608-57.152 57.152-88.637 133.154-88.637 213.988 0 80.834 31.483 156.836 88.637 213.988 10.868 10.868 22.426 20.81 34.563 29.758 10.661 7.885 21.762 15.011 33.238 21.361-63.395 20.354-122.841 53.811-174.332 98.938-7.222 6.324-14.236 12.841-21.044 19.526-31.345 30.765-58.243 65.23-80.158 102.362-5.054 8.81-9.818 17.799-14.319 26.941-28.404 56.429-46.198 122.609-49.003 192.646 1.638-27.665 13.265-12.432 29.822-10.21 1.366 0.18 2.734 0.275 4.075 0.275 1.228 0 2.429-0.069 3.631-0.221 11.973-2.609 21.638-12.372 23.516-25.201 13.946-95.719 59.569-182.7 125.146-248.939 77.824-78.64 183.749-128.061 298.221-128.253h0.649c114.223 0.387 219.899 49.766 297.571 128.253 65.575 66.239 111.2 153.217 125.146 248.939 1.878 12.8 11.502 22.549 23.446 25.187 0.027 0 0.041 0.015 0.069 0.015 1.201 0.151 2.403 0.221 3.631 0.221 1.341 0 2.707-0.097 4.075-0.275 16.556-2.222 28.182-17.455 25.959-34.025zM520.551 558.755c-0.607 0-1.216 0-1.823-0.015-112.953-0.83-213.658-79.302-241.177-184.563-0.305-1.146-0.607-2.306-0.885-3.465-4.308-17.398-6.602-35.487-6.602-54.061s2.292-36.868 6.602-54.572c0.275-1.187 0.58-2.362 0.885-3.535 27.671-107.899 129.316-193.662 242.999-193.662h1.298c113.685 0 215.328 85.764 242.999 193.662 0.305 1.173 0.607 2.348 0.885 3.535 4.308 17.702 6.602 35.998 6.602 54.572 0 18.572-2.292 36.661-6.602 54.061-0.275 1.161-0.58 2.319-0.885 3.465-27.521 105.262-128.225 183.735-241.177 184.563-1.036 0.015-2.071 0.015-3.121 0.015z" fill="" p-id="3266"></path></svg>
            </router-link>
        </div>
    </div>
</template>
<script>
import { mapActions, mapState } from "vuex";
export default {
  components: {},
  methods: {
    //   topSearch:function(){

    //   }
  },
  computed: {
    visitedcity: function() {
      const homecity = localStorage.city;
      if (homecity) {
        this.$store.dispatch("citypick", homecity);
        return homecity;
      } else {
        return this.$store.state.city;
      }
    }
  }
};
</script>

<style lang="stylus" scoped>
@import '~styles/variables.styl';
@import '~styles/ellipsis.styl';

.head-wrap {
    z-index: 999;
    position: fixed;
    height: 0.5rem;
    width: 100%;
    background: #fff;

    .header {
        height: 100%;
        background: #f5f5f5;
        display: flex;
        align-items: center;

        .top-city {
            height: 100%;
            flex: 63;
            box-sizing: border-box;
            padding: 0 0.18rem;
            font-size: 0.16rem;
            color: #222;
            display: flex;
            align-items: center;

            svg {
                margin-top: -0.02rem;
                margin-right: 0.02rem;
            }

            span {
                ellipsis();
            }
        }

        .top-search {
            height: 0.28rem;
            flex: 256;
            box-sizing: border-box;
            font-size: 0.14rem;
            font-family: sans-serif;
            background: #ffffff;
            color: #888;
            display: flex;
            align-items: center;
            padding-left: 0.18rem;
            border-radius: 25px;

            svg {
                margin-top: 0.02rem;
                margin-right: 0.09rem;
            }

            #searchInp {
                width: 1.68rem;
                font-size: 0.14rem;
                border none 
            }
        }

        .profile {
            box-sizing: border-box;
            flex: 30;
            padding: 0 0.18rem 0 0.12rem;
            display: flex;
            justify-content: center;
            align-items: center;
        }
    }
}
</style>
